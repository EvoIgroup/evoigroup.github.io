---
date: 2023-03-08
title: "[论文解析]众任务优化问题的可迁移自适应差分进化"
linkTitle: "[论文解析]众任务优化问题的可迁移自适应差分进化"
author: Yudong Yang
description: "[论文解析]众任务优化问题的可迁移自适应差分进化"
Tags: ["OP-TO"]
---

# 众任务优化问题的可迁移自适应差分进化

|    Title     | Transferable Adaptive Differential Evolution for Many-Task Optimization |
| :----------: | :----------------------------------------------------------: |
|    Author    |     Sheng-Hao Wu; Zhi-Hui Zhan; Kay Chen Tan; Jun Zhang      |
| Affiliations |             South China University of Technology             |
|    Emails    |                      zhanapollo@163.com                      |
|    Paper     | https://ieeexplore.ieee.org/ielx7/6221036/6352949/10040733.pdf |

## 问题导入

在进化计算可以用于解决的不同类型的优化问题中，多任务优化问题是与进化迁移优化相关的最具代表性的问题之一。在多任务优化问题中，需要同时求解多个优化任务，并假设任务之间存在一定的相似性。因此，出现了一种称为进化多任务优化 (EMTO) 的新范式来解决多任务优化问题 。与传统的EC算法不同，EMTO算法不仅包含EC算法作为基础求解器，还包含KT（Knoeledge Transfer）方法。而基于 EMTO 算法的成功，研究人员开始考虑一类更复杂的多任务（即多于三个任务）需要解决的优化问题，称为多任务优化问题（MaTOP）。目前众任务进化优化中主要使用的两个关键点与亟须解决的问题主要为以下两个：

1. 任务相似度评估。目前主要是使用种群的分布相似性（population distribution-based similarity measurement (PDSM)）来衡量任务之间的相似度，然而本身种群的产生与进化过程就存在着一定的不确定性，因此准确程度有待商榷。
2. 知识迁移的机制。如何从源任务迁移知识以帮助目标任务的搜索过程应该如何具体执行目前也仍没有定论。鉴于根据相似性度量源任务和目标任务相似，如何在两个任务之间执行有效的 KT 仍然很重要。如果任务之间的 KT 设计不当，KT 可能会导致任务间出现负迁移。负迁移意味着与独立搜索过程相比，任务之间的交互会降低目标任务的优化性能。

## 整体思想与算法流程



{{< imgproc 299 Fill "1220x843" >}}
两阶段算法框架
{{< /imgproc >}}



整体来说，两阶段可迁移的自适应差分进化算法的思想可以描述如下：

1. 为所有任务创建一个种群，使用同样的进化优化器对所有种群进行少量的迭代。
2. 使用论文中提出的任务表示策略（task representation strategy (TRS)）对少量迭代后得到的进化信息进行总结并利用任务分组策略（task grouping strategy (TGS)）进行分组。
3. 在分好的组内进行成功进化经验的迁移（successful evolution experience transfer (SEET)）以优化各个任务的性能表现。

## 平移不变性

前文中曾提到过，现有的大部分评估任务相似度的方法都是基于进化过程中种群分布的相似性，这种方法实际上是在评估其现有的全局最优解的相似性，仅在最优解分布相似时有效，因此本文引入了平移不变性（Shift Invariance）的概念。平移不变性源自于模式识别中计算机视觉的范畴，不变性意味着即使目标的外观发生了某种变化，但是你依然可以把它识别出来。这对图像分类或者相似度的评估来说是一种很好的特性，因为我们希望目标无论在什么样的状况与条件下都可以被成功地识别出来，对应到众任务优化中意味着我们希望在不同维度与不同的搜索空间（离散或是连续、搜索空间的范围与开闭）中，几个任务本身具有的进化信息是等同的，因此平移不变性的捕捉是一种任务本身景观相似性的评估。



{{< imgproc 758 Fill "643x489" >}}
平移不变性效果可视化
{{< /imgproc >}}



上图很好地阐述了在进化优化算法中，任务之间的相似性怎样被评估以及具体意味着什么，（a）和（b）中左侧的图像分别是在进化过程中中群内的最佳适应度值，经过下面两个式子的处理之后再将三个任务进行对比，就可以发现原本三个任务尽管适应度值相差较大，但是进化路线有着较高的相似性，最终呈现出的景观也具有较高的一致性。



{{< imgproc 851 Fill "456x58" >}}
公式1
{{< /imgproc >}}



{{< imgproc 398 Fill "445x68" >}}
公式2
{{< /imgproc >}}



利用平移不变性对将任务相似性转换为一个n维向量后，本文使用了传统K均值聚类对任务进行分组，为了尽量准确地得到聚类中应有的cluster数目，下面利用CRP方法确定聚类算法的参数K。对于这一算法过程可以做如下描述：

#### 	Chinese restaurant processes（中餐馆流程）

​	假设一个中国餐馆中，可以有无限个桌子。对于每一位顾客，都按照下面的规则来选择桌子坐下，对于第n个顾客都有以下两种选择：

​	顾客选择坐在已经有人的桌子上的概率为：



{{< imgproc 045 Fill "283x64" >}}
公式3
{{< /imgproc >}}



​	其中nk表示第k个桌子上已经有的顾客数。n-1表示在这个顾客之前已经进入餐馆的顾客总数。而顾客选择坐在一个没有人的桌子上K+1的概率为：



{{< imgproc 027 Fill "285x68" >}}
公式4
{{< /imgproc >}}



## 进化第二阶段

在利用第一阶段的进化完成众任务的相似性评估与分组后，各个组内的任务自主进化与组内成功进化经验的传递过程就要开始了，这一阶段的算法流程主要包含以下三个流程：

1. 进化优化问题解决器的分配。
2. 进化质量的评估。
3. 后代的产生过程。

首先给所有任务分配同样参数的优化器，在使用这一优化器产生后代之后按照下面的式子对进化的质量进行评估：

{{< imgproc 832 Fill "451x58" >}}
公式5
{{< /imgproc >}}



这一式子中的指标意为在第二阶段的优化过程中，随着迭代次数的增加其优化幅度能达到第一阶段的百分比，以此来消除第一阶段优化幅度的不同带来的基准差异。在评估完进化质量后，本文依据一定的概率在组内完成成功进化经验的迁移，首先随机生成两个随机数，如果这两个随机数rand1和rand2满足以下条件则通过SEET机制进行知识迁移：



{{< imgproc 161 Fill "418x78" >}}
公式6
{{< /imgproc >}}

其中rank(Tk)为组内任务k的排名，而pSEET可以通过以下式子得出：



{{< imgproc 418 Fill "553x54" >}}
公式7
{{< /imgproc >}}



式子中，g为第一阶段的迭代次数，G1为当前总迭代次数，MAXGEN为最大迭代次数。在确定要进行成功进化经验的迁移之后，我们选择获得成功进化个体占比数最高的任务所用的优化器参数作为进化知识源，将其进化优化器的参数向其他任务共享，随着迭代次数的升高，pSEET值逐渐趋近于1，经验的迁移也越来越频繁，由此。某一组特定的进化参数使用频率将会越来越高。



{{< imgproc 859 Fill "1768x495" >}}
优化器的使用频率进化过程
{{< /imgproc >}}



上图展示了即使在初始条件中使用了不同的参数，最终在所有任务中也会使用几乎同样的求解器参数。

## 实验结果

文中使用了两个具有代表性的 MaTOP 基准，即：1) CEC19MaTOP  和 2) GECCO20MaTOP 来测试所提出算法的有效性。 CEC19MaTOP 和 GECCO20MaTOP 都使用一些全局最优值不同的基本函数来充当组件任务。为减少优化算法随机性带来的统计误差，所有算法独立运行30次。收集每次运行中获得的最佳适应度并用于比较。之后在 TRADE 算法和 MaTOP 的每个任务的比较算法之间以 0.05 的显着性水平运行 Wilcoxon 秩和检验。符号“W/T/L”表示我们的 TRADE 在任务上分别比比较算法表现更好（赢）、等于（平）或明显更差（输）。然后统计TRADE明显好于、等于或明显差于比较算法的任务数。如果“W”的数量大于“L”的数量并且 W 和 L 之间的差异至少大于 5（例如，50 的 10%），则 TRADE 被认为优于 MaTOP 上的比较算法任务。问题的比较结果将在括号中以“+/=/-”给出，表示 TRADE 优于、等于或差于比较算法。为了进一步减少统计比较误差，我们进行了弗里德曼检验来比较多种算法的性能并报告平均排名，表示为 AvgRank。等级越小表示性能越好，最好的结果用黑体字标出。此外，采用多重比较检验，并为每个基准给出计算的 p 值。



{{< imgproc 444 Fill "729x758" >}}
实验结果1
{{< /imgproc >}}



{{< imgproc 123 Fill "723x348" >}}
实验结果2
{{< /imgproc >}}



## 总结

本文考虑了一种新的任务相似性度量方法（即平移不变性），并提出了一种可以有效求解 MaTOP 的两阶段 TRADE 算法。第一进化阶段的 TRS 和 TGS 可以有效地识别任务之间的平移不变性并将相似的任务分组。第二个进化阶段的 SEET 方法可以有效地在同一组内的任务之间传递成功的参数。这样就充分利用了同一组内任务之间的相似性，提高了搜索效率。

然而TRADE 算法会消耗一定量的额外适应度评估来识别相似任务，而当 MaTOP 包含多种类型的异构任务时，TRS 可能不够准确以区分相似任务。因此，对于未来的工作，研究人员可以考虑以下两个方面：1）发现一种更有效和准确的 TRS 来识别和捕获任务之间的移位不变性；2）扩展任务之间的相似性范围，例如函数景观之间的旋转不变性。任务和任务的生物目标相似性（即形状和域）。
